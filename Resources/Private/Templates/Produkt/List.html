<html
  xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
  data-namespace-typo3-fluid="true"
>
  <f:layout name="Default" />

  This template is responsible for creating a table of domain objects. If you
  modify this template, do not forget to change the overwrite settings in
  /Configuration/ExtensionBuilder/settings.yaml: Resources: Private: Templates:
  Produkt: List.html: keep Otherwise your changes will be overwritten the next
  time you save the extension in the extension builder

  <f:section name="content">
    
  <h1>Produkt List</h1>
  <f:render partial="SearchForm" arguments="{_all}"   />
<hr>
    <f:flashMessages />
    <div class="productList row">

      <f:for each="{produkts}" as="produkt">
        <div class="col-md-4" data-categ="{produkt.category.uid}">
          <div class="productRow">
            <div class="__category">{produkt.category.name}</div>
            <div class="__image">
              <img src="{produkt.image.originalResource.publicUrl}" >
            </div>
            <div class="__content">
              <f:switch expression="{produkt.farbe}">
                <f:case value="1"><span class="__color __rot"></span></f:case>
                <f:case value="2"><span class="__color __green"></span></f:case>
                <f:case value="3"><span class="__color __blue"></span></f:case>
                <f:defaultCase><span class="__color"></span></f:defaultCase>
            </f:switch>

            <div class="__weight">
              <f:format.number decimals="1" decimalSeparator="," thousandsSeparator=".">
                {produkt.gewicht}
              </f:format.number> kg</div>
              <h2>{produkt.name}</h2>
              <div class="__teaser">
                <f:format.crop maxCharacters="200" append="&nbsp;...">
                  {produkt.teaser}
                </f:format.crop></div>

              <div class="__plus">
                <f:link.action action="show" arguments="{produkt : produkt}"
                >Mehr erfahren</f:link.action
              >
              </div>
             
            </div>
          </div>
         
        </div>
      </f:for>
    </div>
  </f:section>
</html>
